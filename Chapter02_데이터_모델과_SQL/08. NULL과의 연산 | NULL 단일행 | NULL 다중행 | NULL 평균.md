# 🌑 NULL과 연산

## 1️⃣ NULL의 개념

* **NULL**은 “정해지지 않은 값(Undefined)”을 의미한다.
* 단순히 빈칸(`''`)이나 0이 아니다.

  * `NULL ≠ ''`
  * `NULL ≠ 0`
  * `NULL ≠ 'NULL'`
* 데이터가 저장될 **공간은 확보**되어 있지만, **값이 아직 입력되지 않은 상태**이다.
* 즉, **값이 존재하지 않음(unknown)** 을 의미한다.

---

## 2️⃣ NULL 제약 조건

* 어떤 속성(Attribute)에 `NOT NULL` 제약을 걸면,
  → **반드시 값이 입력되어야 한다.**
* `NULL`이 허용되지 않으면,
  → 빈칸이나 미입력 상태로 두는 것이 불가능하다.

---

## 3️⃣ NULL과 연산

### (1) 단일행 연산 (Single-row Operation)

* 한 **행(Row)** 에 대해 연산을 수행하는 경우.
* 예:

  ```sql
  SELECT col1 + col2 FROM table;
  ```
* `NULL`이 하나라도 포함되면, **결과도 NULL**이다.

  | col1 | col2 |  결과  |
  | :--: | :--: | :--: |
  |  10  |  20  |  30  |
  |  10  | NULL | NULL |

👉 즉,

> **단일행 연산에서 NULL이 포함되면 결과는 NULL이다.**

---

### (2) 다중행 연산 (Multi-row Operation)

* 여러 **행(Row)** 에 대해 통계적 계산을 수행할 때.
* 예:

  ```sql
  SELECT SUM(col1) FROM table;
  SELECT AVG(col1) FROM table;
  ```
* 이때 `NULL`은 **계산에서 제외**된다.
  → “없는 값”으로 간주함.

  | col1 | SUM(col1) | AVG(col1) |
  | :--: | :-------: | :-------: |
  |  10  |           |           |
  |  20  |           |           |
  | NULL |           |           |
  |  30  |   **60**  |   **20**  |

👉 즉,

> **다중행 연산에서는 NULL을 제외하고 계산한다.**

---

## 4️⃣ 단일행 vs 다중행 정리표

|   구분   | 연산 대상 |  NULL 처리 |             예시 결과            |
| :----: | :---: | :------: | :--------------------------: |
| 단일행 연산 | 1개의 행 | 결과도 NULL |      `10 + NULL → NULL`      |
| 다중행 연산 |  여러 행 |  NULL 제외 | `SUM(10, 20, NULL, 30) → 60` |

---

## 5️⃣ 예제 문제

테이블 예시:

| col1 | col2 | col3 | col4 |
| :--: | :--: | :--: | :--: |
|  10  |  10  |  10  |  20  |
|  20  |  20  | NULL |  30  |
| NULL | NULL |  10  |  20  |

### (1) 단일행 연산

```sql
SELECT col1 + col2 + col3 + col4 FROM table;
```

👉 결과:

|  결과  |
| :--: |
|  50  |
| NULL |
| NULL |

---

### (2) 다중행 연산

```sql
SELECT SUM(col1) FROM table;
```

👉 결과:

* `NULL`을 제외한 합 → `10 + 20 = 30`

---

## 6️⃣ 핵심 요약

| 항목                     | 내용                                         |
| :--------------------- | :----------------------------------------- |
| NULL의 의미               | 정해지지 않은 값 (0, 공백, 'NULL'과 다름)              |
| 단일행 연산                 | 결과는 NULL                                   |
| 다중행 연산                 | NULL 제외하고 계산                               |
| 통계 함수                  | SUM, AVG, COUNT 등에서 NULL은 무시됨              |
| COUNT(*) vs COUNT(col) | `COUNT(*)`는 NULL 포함, `COUNT(col)`은 NULL 제외 |

---

> 💡 **기억 포인트**
>
> * NULL은 값이 아니라 “모름”이다.
> * 단일행 → 결과 NULL
> * 다중행 → NULL 제외
> * `COUNT(col)`은 NULL 제외 / `COUNT(*)`는 NULL 포함

---
